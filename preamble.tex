% Preamble for LaTeX Beamer documents
\makeatletter
\usepackage{helvet}
\usepackage{amsmath, amsfonts, amssymb}
\usepackage{bm}
\usepackage{url}
\usepackage{multicol}
\usepackage{here}
\usepackage{framed}
\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage[deluxe]{otf}
\usepackage{tikz}

% prevent garbled characters on PDF bookmarks
\ifnum 42146=\euc"A4A2 \AtBeginDvi{\special{pdf:tounicode EUC-UCS2}}\else
\AtBeginDvi{\special{pdf:tounicode 90ms-RKSJ-UCS2}}\fi

% basic themes
\useoutertheme{split}
\useinnertheme{rectangles}
\usecolortheme{orchid}
\usecolortheme{dolphin}
\usefonttheme{professionalfonts}

% transparent background on frametitle
\setbeamercolor{frametitle}{bg=, fg=structure}

% disable navigation symbols
\setbeamertemplate{navigation symbols}{}

% numbered caption
\setbeamertemplate{caption}[numbered]

% Japanese caption
\renewcommand{\figurename}{図}
\renewcommand{\tablename}{表}

% rounded block environments with shadow
\setbeamertemplate{blocks}[shadow=true]
\setbeamertemplate{blocks}[rounded]

% customized outertheme definition (based on 'infolines' and 'split')
\setbeamercolor{author in head/foot}{bg=gray!0!black,fg=white}
\setbeamercolor{title in head/foot}{bg=gray!25!black,fg=white}
\setbeamercolor{date in head/foot}{bg=gray!50!black,fg=white}

% headline
\setbeamertemplate{headline}{%
  \leavevmode%
  \begin{beamercolorbox}[wd=\paperwidth,ht=2.5ex,dp=1.25ex]{section in head/foot}%
    \centering%
    \insertsectionnavigationhorizontal{.8\paperwidth}{\hfill}{\hfill}%
  \end{beamercolorbox}%
}

% footline
\setbeamertemplate{footline}
{%
  \leavevmode%
  \hbox{\begin{beamercolorbox}[wd=.20\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm plus1fill,rightskip=.3cm]{author in head/foot}%
	  \centering\usebeamerfont{author in head/foot}\insertshortauthor~(\insertshortinstitute)%
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.60\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm,rightskip=.3cm plus1fil]{title in head/foot}%
      \centering\usebeamerfont{title in head/foot}\insertshorttitle%
  \end{beamercolorbox}%
  \begin{beamercolorbox}[wd=.20\paperwidth,ht=2.5ex,dp=1.125ex,leftskip=.3cm,rightskip=.3cm plus1fil]{date in head/foot}%
	  \centering\usebeamerfont{title in head/foot}\insertframenumber{} / \inserttotalframenumber%
  \end{beamercolorbox}}%
}

% pseudocodes
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

% font settings
\renewcommand{\rmdefault}{ptm}
\renewcommand{\sfdefault}{phv}
\renewcommand{\ttdefault}{pcr}
\renewcommand{\familydefault}{\sfdefault}
\renewcommand{\kanjifamilydefault}{\gtdefault}

% some color definitions
\definecolor{darkgreen}{RGB}{0,128,0}
\definecolor{darkblue}{RGB}{0,0,160}
\definecolor{darkred}{RGB}{128,0,0}
\definecolor{darkyellow}{RGB}{192,192,0}

% frequently used macros
\newcommand{\NN}{\mathbb{N}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\CC}{\mathbb{C}}
\newcommand{\ii}{\mathrm{i}}
\newcommand{\ee}{\mathrm{e}}
\newcommand{\TT}{\mathrm{T}}
\newcommand{\HH}{\mathrm{H}}
\newcommand{\INV}{{-1}}
\newcommand{\eqn}[1]{{(#1)}}
\newcommand{\code}[1]{{\ttfamily #1}}
\newcommand{\func}[1]{{\ttfamily\bfseries #1}}
\newcommand<>{\proc}[1]{{\color#2{darkgreen}\ttfamily\bfseries #1}}

% insert TOC with the current section before starting a section
\AtBeginSection[]
{
	\begin{frame}
		\frametitle{Outline}

		\tableofcontents[currentsection]
	\end{frame}
}

% document information
\author[]{}
\institute[]{}
\title[]{}
\date[]{}

\makeatother
